<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/pico.min.css"> 
    <title>Customer Information</title>
</head>

<body>
    <header class="container">
        <nav>
            <ul>
              <li><strong>Customer Information</strong></li>
            </ul>
            <ul>
              <li><a href="Vehicles.html">Vehicles</a></li>
              <li><a href="Customers.html" role="button">Customer</a></li>
              <li><a href="rentals.html">Rentals & Returns</a></li>
              <li><a href="reports.html">Reports</a></li>
            </ul>
          </nav>
    </header>

    <main class="container">
        <form>
            <h1>Customer Information</h1>
            <fieldset>
                <h2>Contact Information</h2>
                
                <div class="grid">
                    <label for="first-name">
                        First Name
                        <input type="text" name="first-name" id="first-name" placeholder="First Name" minlength="1" required>
                    </label>
                    

                    <label for="last-name">
                        Last Name
                        <input type="text" name="last-name" id="last-name" placeholder="Last Name" minlength="" required>
                    </label>
                    
                </div>

                <label for="email-address">Email Address</label>
                <input type="email" name="email-address" id="email-address" placeholder="Email Address" required>

                <label for="phone-number">Phone Number</label>
                <input type="tel" name="phone-number" id="phone-number" minlength="7" maxlength="11" required>

            </fieldset>

            <fieldset>
                <h2>Driver's License Information</h2>

                <label for="license">License Number</label>
                <input type="text" name="license" id="license" placeholder="License Number" minlength="15" maxlength="15" required>

                <label for="parish">Parish</label>
                <select name="parish" id="parish">
                    <option value="" selected>Select a Parish</option>
                    <option value="Christ Church">Christ Church</option>
                    <option value="St. Philip">St. Philip</option>
                    <option value="St. Michael">St. Michael</option>
                    <option value="St. James">St. James</option>
                    <option value="St. Peter">St. Peter</option>
                    <option value="St. John">St. John</option>
                    <option value="St. George">St. George</option>
                    <option value="St. Thomas">St. Thomas</option>
                    <option value="St. Andrew">St. Andrew</option>
                    <option value="St. Joesph">St. Joesph</option>
                    <option value="St. Lucy">St. Lucy</option>
                </select>

                <label for="district">District</label>
                <input type="text" name="district" id="district" placeholder="District" required>

                <label for="expiry">Expiry Date</label>
                <input type="date" name="expiry" id="expiry" required>
            </fieldset>

            <fieldset>
                <h2>Payment Information</h2>

                <label for="card-number">Credit or Debit Card Number</label>
                <input type="tel" name="card-number" id="card-number" inputmode="numeric" pattern="[0-9\s]{13,19}" autocomplete="card-number" maxlength="19" placeholder="xxxx xxxx xxxx xxxx" required>

                <label for="billing-address">Billing Address</label>
                <input type="text" name="billing-address" id="billing-address" placeholder="Billing Address" required>

                <label for="card-expiry">Expiration Date</label>
                <input type="month" name="card-expiry" min="2023-05" id="card-expiry" required>
            </fieldset>

            <fieldset>
                <h2>Rental Preferences</h2>

                <label for="vehicle-pref">Vehicle Preference</label>
                <input type="text" name="vehicle-pref" id="vehicle-pref" required>

                <label for="duration">
                    Rental Duration (days)
                    <input type="number" name="duration" min="0" id="duration" required>
                    
                </label>

                <label for="locations">Pickup/Drop-off Locations</label>
                <input type="text" name="locations" id="locations" placeholder="Separate locations by commas" required>
                
            </fieldset>

            <small>We'll never share your customer information for profit</small>
          
            <!-- Button -->
            <button type="submit">Submit</button>
        </form>
    </main>
    <script>

        var form = document.querySelector('form');

        form.addEventListener('submit',SaveData)
        function SaveData(e) {
            e.preventDefault();
            let formData = new FormData(form);
            fetch("php/add_customer.php", {
                method: 'post',
                body: formData
            })
                .then(res => res.text())
                .then((data) => {
           
                    console.log("Form submission successful!");
                    console.log(data);
                    alert('Car Information Saved')
                    window.location.reload(true);
                })
                .catch((error) => {
                    console.error("Form submission error: ", error);
                });
        }

    </script>
</body>
    
</body>
</html>